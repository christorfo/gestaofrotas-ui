<div class="dashboard-container">
  <h1>Dashboard do Administrador</h1>

  <section class="data-section">
    <div class="section-header">
      <h2>Frota de Veículos</h2>
      <button routerLink="/admin/veiculos/novo" class="btn-primary">Novo Veículo</button>
    </div>

    <table *ngIf="!errorMessage && veiculos.length > 0" class="data-table">
      <thead>
        <tr>
          <th>Placa</th>
          <th>Modelo</th>
          <th>Status</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let veiculo of veiculos">
          <td>{{ veiculo.placa }}</td>
          <td>{{ veiculo.modelo }}</td>
          <td>{{ veiculo.status }}</td>
          <td>
            <button [routerLink]="['/admin/veiculos/editar', veiculo.id]" class="btn-action">Editar</button>
          </td>
        </tr>
      </tbody>
    </table>
    <p *ngIf="!errorMessage && veiculos.length === 0">Nenhum veículo encontrado.</p>
  </section>

  <section class="data-section">
    <div class="section-header">
      <h2>Equipe de Motoristas</h2>
      <button routerLink="/admin/motoristas/novo" class="btn-primary">Novo Motorista</button>
    </div>

    <table *ngIf="!errorMessage && motoristas.length > 0" class="data-table">
      <thead>
        <tr>
          <th>Nome</th>
          <th>E-mail</th>
          <th>Status</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let motorista of motoristas">
          <td>{{ motorista.nomeCompleto }}</td>
          <td>{{ motorista.email }}</td>
          <td>{{ motorista.status }}</td>
          <td>
            <button [routerLink]="['/admin/motoristas/editar', motorista.id]" class="btn-action">Editar</button>
          </td>
        </tr>
      </tbody>
    </table>
    <p *ngIf="!errorMessage && motoristas.length === 0">Nenhum motorista encontrado.</p>
  </section>

  <section class="data-section">
    <h2>Agendamentos</h2>
    <button routerLink="/admin/agendamentos/novo" class="btn-primary">Novo Agendamento</button>
    <table *ngIf="!errorMessage && agendamentos.length > 0" class="data-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Motorista</th>
          <th>Veículo (Placa)</th>
          <th>Destino</th>
          <th>Data/Hora Saída</th>
          <th>Status</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let agendamento of agendamentos">
          <td>{{ agendamento.id }}</td>
          <td>{{ agendamento.motorista.nome }}</td>
          <td>{{ agendamento.veiculo.placa }}</td>
          <td>{{ agendamento.destino }}</td>
          <td>{{ agendamento.dataHoraSaida | date:'dd/MM/yyyy HH:mm' }}</td>
          <td>{{ agendamento.status }}</td>
          <td>
            <button [routerLink]="['/agendamentos/detalhes', agendamento.id]"
              class="btn-action btn-secondary">Detalhes</button>
          </td>
        </tr>
      </tbody>
    </table>
    <p *ngIf="!errorMessage && agendamentos.length === 0">Nenhum agendamento encontrado.</p>
  </section>

  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>
</div>